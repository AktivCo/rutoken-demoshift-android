[Английский/English](README.md)

## Описание

Рутокен Демосмена — приложение для подписания документов несколькими членами рабочей группы на одном мобильном
устройстве с использованием контактных и беспроводных
устройств [семейства Рутокен ЭЦП](https://www.rutoken.ru/products/all/rutoken-ecp-3/).
Включает в себя готовые для переиспользования модули подписания файлов и обнаружения устройств Рутокен.

Для взаимодействия с Рутокенами Демосмена использует встраивание, не требующее установки Панели управления Рутокен.
Подробнее об этом способе встраивания см. в [документации](https://github.com/AktivCo/android-standalone-scheme-docs).

## Требования

Рутокен Демосмена собирается с использованием Android SDK Platform 34 или новее.

Внешние зависимости находятся в [Рутокен SDK](https://www.rutoken.ru/developers/sdk/).

Необходимые библиотеки:

* librtpkcs11ecp.so под следующие архитектуры: armeabi-v7a, arm64-v8a.

## Как собрать

Прежде чем собирать проект, положите библиотеку librtpkcs11ecp.so в папку `<project_root>/app/src/main/jniLibs/<arch>/`,
где `<arch>` — архитектура библиотеки.

Используйте Android Studio для сборки проекта.

## Предварительные действия

Чтобы создать на устройстве семейства Рутокен ЭЦП ключевую пару и сертификат, выполните следующие действия:

* Загрузите и установите [Рутокен Плагин](https://www.rutoken.ru/products/all/rutoken-plugin/) на компьютер;
* Перезагрузите браузер для завершения установки плагина;
* Через браузер зайдите на веб-сайт [Центра регистрации Рутокен](https://ra.rutoken.ru);
* Подключите устройство семейства Рутокен ЭЦП к компьютеру;
    * Для Рутокен ЭЦП Bluetooth убедитесь, что светодиод горит или моргает ТОЛЬКО красным цветом, если нет — нажмите
      кнопку на устройстве и удерживайте ее, пока синий светодиод не погаснет;
* Убедитесь, что веб-сайт обнаружил устройство;
* Создайте ключевую пару и сертификат, следуя инструкциям на веб-сайте;
* Убедитесь, что веб-сайт обнаружил ключевую пару и сертификат на устройстве;
* Отключите устройство Рутокен от компьютера и используйте его вместе с Android-устройством.

## Ограничения

* Приложение Рутокен Демосмена может быть запущено только на физических устройствах, не на эмуляторе.

## Лицензия

Программный код проекта распространяется на условиях [Simplified BSD License](LICENSE_RUS), если иное не указано в
файле.
